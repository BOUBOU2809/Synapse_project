{% extends 'base.html.twig' %}

{% block title %}Itération du processus{% endblock %}
{% block body %}
    {{ include('psyche/nav.html.twig') }}

    <a href="{{ path('app_step_2') }}">
        <button type="button" class="btn btn-light text-dark mx-5 my-4">
            <i class="fa-solid fa-arrow-left px-3 py-2"></i>
            Retour</button>
    </a>
    <div>
    <div class="pt-4 px-5">
        <div class="progress">
            <div class="progress-bar bg-dark"
                 role="progressbar"
                 style="width:99%"
                 aria-valuenow="15"
                 aria-valuemin="0"
                 aria-valuemax="100"></div>
        </div>
    </div>
    <p class="px-5 pt-4 fw-bold text-lg-start">Etape 3</p>
    <h1 class="px-5">Itération du processus</h1>
    <p class="px-5 m-0">Indiquez l'itération correspondante au processus.</p>
    <p class="px-5 mt-0 mb-4">Attention, veuillez notez qu'il faut remplir un formulaire
        au choix et non les deux.</p>

    {{ form_start(form) }}
    <div class="d-flex flex-row" {{ stimulus_controller('input') }}>
        <div class="mx-5 w-100">
            {{ form_label(form.selectedIteration) }}
            <select name="{{ field_name(form.selectedIteration) }}"
                    class="form-control"
                    {{ stimulus_action('input', 'choice_disabled', 'change') }} {{ stimulus_target('input', 'choice_selected') }}>
                    <option value="Séléctionner votre itération" selected>Séléctionner votre itération</option>
                {% for option, value in field_choices(form.selectedIteration) %}
                    <option value="{{ value }}">{{ option }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="vr"></div>
        <div class="d-flex flex-column mx-5 w-100">
            <div class="flex-fill">
                {{ form_label(form.libelle) }}
                <input name="{{ field_name(form.libelle) }}"
                       value="{{ field_value(form.libelle) }}"
                       class="form-control" {{ stimulus_action('input', 'input_disabled', 'change') }}
                        {{ stimulus_target('input', 'input_libelle_disabled') }}>

                <div class="d-flex flex-row">
                    <div class="flex-fill me-3 my-3">
                        {{ form_label(form.beginningDate) }}
                        <input name="{{ field_name(form.beginningDate) }}"
                               value="{{ field_value(form.beginningDate) }}"
                               class="form-control" type="date" {{ stimulus_action('input', 'input_disabled', 'change') }}
                                {{ stimulus_target('input', 'input_date_debut_disabled') }}>
                    </div>
                    <div class="flex-fill ms-3 my-3">
                        {{ form_label(form.endingDate) }}
                        <input name="{{ field_name(form.endingDate) }}"
                               value="{{ field_value(form.endingDate) }}"
                               class="form-control" type="date" {{ stimulus_action('input', 'input_disabled', 'change') }}
                                {{ stimulus_target('input', 'input_date_fin_disabled') }}>
                    </div>
                </div>
                <div class="mb-3">
                    {{ form_label(form.commissionDate) }}
                    <input name="{{ field_name(form.commissionDate) }}"
                           value="{{ field_value(form.commissionDate) }}"
                           class="form-control" type="date" {{ stimulus_action('input', 'input_disabled', 'change') }}
                            {{ stimulus_target('input', 'input_date_commission_disabled') }}>
                </div>
            </div>
            {{ form_row(form.Save) }}
        </div>
    </div>
    {{ form_end(form) }}

{% endblock %}